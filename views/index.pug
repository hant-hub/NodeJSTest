doctype html
html(lang='en')
    head
        title Time Keeper
        script(
                src="https://unpkg.com/htmx.org@2.0.2"
                integrity="sha384-Y7hw+L/jvKeWIRRkqWYfPcvVxHzVzn5REgzbawhxAuQGwX1XWe70vji+VSeHOThJ"
                crossorigin="anonymous")
            
    body
        h1 Time Keeper
        h2#time
        button(
                hx-post="/clock"
                hx-swap="innerHTML"
                hx-vals='js:{"date":new Date().toJSON()}'
                ) Button

        script.
            function getTime() {
                let date = new Date();
                let hours = date.getHours();
                let minutes = date.getMinutes();
                let seconds = date.getSeconds();
                let suffix = 'AM';
                if (hours > 12) {
                    suffix = 'PM';
                }
                hours %= 12;

                hours = (hours < 10) ? "0" + hours: hours;
                minutes = (minutes < 10) ? "0" + minutes: minutes;
                seconds = (seconds < 10) ? "0" + seconds: seconds;

                return hours + ":" + minutes + ":" + seconds + " " + suffix;
            }
            document.getElementById("time").innerText = getTime();
            setInterval(function() {
                document.getElementById("time").innerText = getTime();
             }, 1000);

